if(typeof window!=="undefined"){window.one=window.one||{}}else{var one={}}one.include=one.exclude=function(){};one.color=(function(){var b=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,a=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,c=new RegExp("^(rgb|hsl|hsv)a?\\("+b.source+","+b.source+","+b.source+"(?:,"+a.source+")?\\)$","i");return function(k){if(k.charCodeAt){var h=k.match(c);if(h){var l=h[1].toUpperCase(),j=typeof h[8]==="undefined"?h[8]:parseFloat(h[8]),d=l[0]==="H",f=h[3]?100:(d?360:255),g=(h[5]||d)?100:255,i=(h[7]||d)?100:255;if(!(l in one.color)){throw new Error("one.color."+l+" is not installed.")}return new one.color[l](parseFloat(h[2])/f,parseFloat(h[4])/g,parseFloat(h[6])/i,j)}if(k.length<6){k=k.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3")}var e=k.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(e){return new one.color.RGB(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255)}}else{if(typeof k==="object"&&k.isColor){return k}else{if(Object.prototype.toString.apply(k)==="[object Array]"){return new one.color[k[0]](k.slice(1,k.length))}else{if(!isNaN(k)){return new one.color.RGB((k&255)/255,((k&65280)>>8)/255,((k&16711680)>>16)/255)}}}}return false}}());(function(){var a=[];one.color.installColorSpace=function(h,e,g){one.color[h]=new Function(e.join(","),"if (Object.prototype.toString.apply("+e[0]+") === '[object Array]') {"+e.map(function(j,k){return j+"="+e[0]+"["+k+"];"}).reverse().join("")+"}if ("+e.filter(function(i){return i!=="alpha"}).map(function(i){return"isNaN("+i+")"}).join("||")+'){throw new Error("[one.color.'+h+']: Invalid color: ("+'+e.join('+","+')+'+")");}'+e.map(function(i){if(i==="hue"){return"this._hue=hue<0?hue-Math.floor(hue):hue%1"}else{if(i==="alpha"){return"this._alpha=(isNaN(alpha)||alpha>1)?1:(alpha<0?0:alpha);"}else{return"this._"+i+"="+i+"<0?0:("+i+">1?1:"+i+")"}}}).join(";")+";");one.color[h].propertyNames=e;var f=one.color[h].prototype;["valueOf","hex","css","cssa"].forEach(function(i){f[i]=f[i]||(h==="RGB"?f.hex:new Function("return this.rgb()."+i+"();"))});f.isColor=true;f.equals=function(l,k){if(typeof k==="undefined"){k=1e-10}l=l[h.toLowerCase()]();for(var j=0;j<e.length;j=j+1){if(Math.abs(this["_"+e[j]]-l["_"+e[j]])>k){return false}}return true};f.toJSON=new Function("return ['"+h+"', "+e.map(function(i){return"this._"+i},this).join(", ")+"];");for(var d in g){if(g.hasOwnProperty(d)){var c=d.match(/^from(.*)$/);if(c){one.color[c[1].toUpperCase()].prototype[h.toLowerCase()]=g[d]}else{f[d]=g[d]}}}f[h.toLowerCase()]=function(){return this};f.toString=new Function('return "[one.color.'+h+':"+'+e.map(function(j,k){return'" '+e[k]+'="+this._'+j}).join("+")+'+"]";');e.forEach(function(j,k){f[j]=new Function("value","isDelta","if (typeof value === 'undefined') {return this._"+j+";}if (isDelta) {return new this.constructor("+e.map(function(m,l){return"this._"+m+(j===m?"+value":"")}).join(", ")+");}return new this.constructor("+e.map(function(m,l){return j===m?"value":"this._"+m}).join(", ")+");")});function b(j,i){var k={};k[i.toLowerCase()]=new Function("return this.rgb()."+i.toLowerCase()+"();");one.color[i].propertyNames.forEach(function(m,n){k[m]=new Function("value","isDelta","return this."+i.toLowerCase()+"()."+m+"(value, isDelta);")});for(var l in k){if(k.hasOwnProperty(l)&&one.color[j].prototype[l]===undefined){one.color[j].prototype[l]=k[l]}}}a.forEach(function(i){b(h,i);b(i,h)});a.push(h)}}());(function(){var a=Math.round;one.color.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var b=(a(255*this._red)*65536+a(255*this._green)*256+a(255*this._blue)).toString(16);return"#"+("00000".substr(0,6-b.length))+b},css:function(){return"rgb("+a(255*this._red)+","+a(255*this._green)+","+a(255*this._blue)+")"},cssa:function(){return"rgba("+a(255*this._red)+","+a(255*this._green)+","+a(255*this._blue)+","+this._alpha+")"}})}());one.color.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var h=this._hue,g=this._saturation,l=this._value,e=Math.min(5,Math.floor(h*6)),j=h*6-e,b=l*(1-g),a=l*(1-j*g),m=l*(1-(1-j)*g),c,d,k;switch(e){case 0:c=l;d=m;k=b;break;case 1:c=a;d=l;k=b;break;case 2:c=b;d=l;k=m;break;case 3:c=b;d=a;k=l;break;case 4:c=m;d=b;k=l;break;case 5:c=l;d=b;k=a;break}return new one.color.RGB(c,d,k,this._alpha)},hsl:function(){var c=this._saturation,d=this._value,b=c*d,a=(2-c)*d;return new one.color.HSL(this._hue,b/(a<=1?a:(2-a)),a/2,this._alpha)},fromRgb:function(){var a=this._red,b=this._green,h=this._blue,f=Math.max(a,b,h),c=Math.min(a,b,h),i=f-c,e,d=(f===0)?0:(i/f),g=f;if(i===0){e=0}else{switch(f){case a:e=(b-h)/i/6+(b<h?1:0);break;case b:e=(h-a)/i/6+1/3;break;case h:e=(a-b)/i/6+2/3;break}}return new one.color.HSV(e,d,g,this._alpha)}});one.color.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var a=this._saturation,b=this._lightness*2;if(b<=1){a*=b}else{a*=(2-b)}return new one.color.HSV(this._hue,(2*a)/(b+a),(b+a)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}});if(module){module.exports=one.color};