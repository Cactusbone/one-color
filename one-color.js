(function(e,t,n,r,i,s){function c(e){return typeof e=="undefined"}function h(n){if(Object.prototype.toString.apply(n)==="[object Array]")return n.length===4?new h.RGB(n[0]/255,n[1]/255,n[2]/255,n[3]/255):new h[n[0]](n.slice(1,n.length));if(typeof n=="string"){var r=n.toLowerCase();u[r]&&(n="#"+u[r]);var i=n.match(l);if(i){var s=i[1].toUpperCase(),o=c(i[8])?i[8]:e(i[8]),a=s[0]==="H",f=i[3]?100:a?360:255,p=i[5]||a?100:255,d=i[7]||a?100:255;if(c(h[s]))throw new Error("one.color."+s+" is not installed.");return new h[s](e(i[2])/f,e(i[4])/p,e(i[6])/d,o)}n.length<6&&(n=n.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var v=n.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(v)return new h.RGB(t(v[1],16)/255,t(v[2],16)/255,t(v[3],16)/255)}else{if(typeof n=="object"&&n.isColor)return n;if(!isNaN(n))return new h.RGB((n&255)/255,((n&65280)>>8)/255,((n&16711680)>>16)/255)}return!1}function p(e,t,i){function f(e,t){var r={};r[t.toLowerCase()]=new n("return this.rgb()."+t.toLowerCase()+"();"),h[t].propertyNames.forEach(function(e,i){r[e]=new n("value","isDelta","return this."+t.toLowerCase()+"()."+e+"(value, isDelta);")});for(var i in r)r.hasOwnProperty(i)&&h[e].prototype[i]===undefined&&(h[e].prototype[i]=r[i])}h[e]=new n(t.join(","),"if (Object.prototype.toString.apply("+t[0]+") === '[object Array]') {"+t.map(function(e,n){return e+"="+t[0]+"["+n+"];"}).reverse().join("")+"}"+"if ("+t.filter(function(e){return e!=="a"}).map(function(e){return"isNaN("+e+")"}).join("||")+"){"+'throw new Error("['+e+']: Invalid color: ("+'+t.join('+","+')+'+")");}'+t.map(function(e){return e==="h"?"this._h=h<0?h-Math.floor(h):h%1":e==="a"?"this._a=(isNaN(a)||a>1)?1:(a<0?0:a);":"this._"+e+"="+e+"<0?0:("+e+">1?1:"+e+")"}).join(";")+";"),h[e].propertyNames=t;var s=h[e].prototype;["valueOf","hex","css","cssa"].forEach(function(t){s[t]=s[t]||(e==="RGB"?s.hex:new n("return this.rgb()."+t+"();"))}),s.isColor=!0,s.equals=function(n,i){c(i)&&(i=1e-10),n=n[e.toLowerCase()]();for(var s=0;s<t.length;s+=1)if(r.abs(this["_"+t[s]]-n["_"+t[s]])>i)return!1;return!0},s.toJSON=new n("return ['"+e+"', "+t.map(function(e){return"this._"+e},this).join(", ")+"];");for(var u in i)if(i.hasOwnProperty(u)){var a=u.match(/^from(.*)$/);a?h[a[1].toUpperCase()].prototype[e.toLowerCase()]=i[u]:s[u]=i[u]}s[e.toLowerCase()]=function(){return this},s.toString=new n('return "[one.color.'+e+':"+'+t.map(function(e,n){return'" '+t[n]+'="+this._'+e}).join("+")+'+"]";'),t.forEach(function(e,r){s[e]=new n("value","isDelta","if (typeof value === 'undefined') {return this._"+e+";"+"}"+"if (isDelta) {"+"return new this.constructor("+t.map(function(t,n){return"this._"+t+(e===t?"+value":"")}).join(", ")+");"+"}"+"return new this.constructor("+t.map(function(t,n){return e===t?"value":"this._"+t}).join(", ")+");")}),o.forEach(function(t){f(e,t),f(t,e)}),o.push(e)}var o=[],u={},a=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,f=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,l=new RegExp("^(rgb|hsl|hsv)a?\\("+a.source+","+a.source+","+a.source+"(?:,"+f.source+")?"+"\\)$","i");h.installMethod=function(e,t){o.forEach(function(n){h[n].prototype[e]=t})},p("RGB",["r","g","b","a"],{hex:function(){var e=this,t=(i(255*e._r)*65536+i(255*e._g)*256+i(255*e._b)).toString(16);return"#"+"00000".substr(0,6-t.length)+t},css:function(){return"rgb("+i(255*this._r)+","+i(255*this._g)+","+i(255*this._b)+")"},cssa:function(){return"rgba("+i(255*this._r)+","+i(255*this._g)+","+i(255*this._b)+","+this._a+")"}}),typeof module!="undefined"?module.exports=h:typeof define=="function"&&!c(define.amd)?define([],function(){return h}):typeof jQuery!="undefined"&&c(jQuery.color)?jQuery.color=h:(one=window.one||{},one.color=h),p("HSV",["h","s","v","a"],{rgb:function(){var e=this,t=e._h,n=e._s,i=e._v,o=s(5,r.floor(t*6)),u=t*6-o,a=i*(1-n),f=i*(1-u*n),l=i*(1-(1-u)*n),c,p,d;switch(o){case 0:c=i,p=l,d=a;break;case 1:c=f,p=i,d=a;break;case 2:c=a,p=i,d=l;break;case 3:c=a,p=f,d=i;break;case 4:c=l,p=a,d=i;break;case 5:c=i,p=a,d=f}return new h.RGB(c,p,d,e._a)},hsl:function(){var e=this,t=(2-e._s)*e._v,n=e._s*e._v,r=t<=1?t:2-t,i;return r<1e-9?i=0:i=n/r,new h.HSL(e._h,i,t/2,e._a)},fromRgb:function(){var e=this,t=e._r,n=e._g,i=e._b,o=r.max(t,n,i),u=s(t,n,i),a=o-u,f,l=o===0?0:a/o,c=o;if(a===0)f=0;else switch(o){case t:f=(n-i)/a/6+(n<i?1:0);break;case n:f=(i-t)/a/6+1/3;break;case i:f=(t-n)/a/6+2/3}return new h.HSV(f,l,c,e._a)}}),p("HSL",["h","s","l","a"],{hsv:function(){var e=this,t=e._l*2,n=e._s*(t<=1?t:2-t),r;return t+n<1e-9?r=0:r=2*n/(t+n),new h.HSV(e._h,r,(t+n)/2,e._a)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})})(parseFloat,parseInt,Function,Math,Math.round,Math.min)
