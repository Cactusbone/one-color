% One.com presentation theme for beamer

\ProvidesPackage{beamerthemeOnecom}[2011/02/17]

\usepackage{color}

% Colors
\definecolor{OneGray}{RGB}{64,64,64}
\definecolor{OneBorderGray}{RGB}{89,89,89}
\definecolor{OneGreen}{RGB}{99,158,0}
\definecolor{OneBorderGreen}{RGB}{206,219,181}
\definecolor{OneOrange}{RGB}{228,108,10}
\definecolor{OneBorderOrange}{RGB}{252,213,181}

\setbeamercolor{footer}{fg=OneBorderGray, bg=OneGray}
\setbeamercolor{footerborder}{fg=black, bg=OneBorderGray}
\setbeamercolor{onegreen}{fg=OneGray,bg=OneGreen}
\setbeamercolor{onebordergreen}{fg=OneGray,bg=OneBorderGreen}

% All stolen from Keynote style
\renewcommand\sfdefault{phv}
\usetheme{default}
\useoutertheme{default}
\usecolortheme{default}
\setbeamerfont{title}{size=\Huge\bfseries}
\setbeamercolor{title}{fg=OneOrange}
\setbeamercolor{structure}{fg=OneGray}
\setbeamertemplate{frametitle}[default][center]
\setbeamertemplate{items}[circle]
%\setbeamerfont{frametitle}{size=\huge}
\setbeamertemplate{navigation symbols}{} %no nav symbols

% Get the logo
\def\onecom@imageblack{one-com-logo/logo_venstre_m_tekst_sort}
\def\onecom@imagewhite{one-com-logo/logo_venstre_m_tekst_hvid}
\def\onecom@imagename{\onecom@imagewhite}

% Environment to create a 'inverted' one.com frame\ldots
\newcommand{\OneGreyFrame}[1]{%
	% 'invert' colours.
	\setbeamercolor{footer}{fg=OneGray,bg=white}
	\setbeamercolor{footerborder}{fg=white,bg=OneGray}
	\def\onecom@imagename{\onecom@imageblack}
	\setbeamercolor{normal text}{fg=white,bg=OneBorderGray}

	#1

	% Re-set colours
	% TODO: Don't hard-code these...
	\setbeamercolor{footer}{fg=OneBorderGray, bg=OneGray}
	\setbeamercolor{footerborder}{fg=black,bg=OneBorderGray}
	\setbeamercolor{normal text}{fg=black,bg=white}
	\def\onecom@imagename{\onecom@imagewhite}
}

% Set titlepage in a sensible way
\defbeamertemplate*{title page}{onecom theme}[1][]
{
	%\raisebox{0}[0pt][0pt]{
	\begin{beamercolorbox}[sep=8pt,#1]{title}
		\usebeamerfont{title}\inserttitle\par%
		\ifx\insertsubtitle\@empty%
		\else%
		\vskip0.25em%
		{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
		\fi%
	\end{beamercolorbox}%
	\vskip1em\par
	\begin{beamercolorbox}[sep=8pt,#1]{author}
		\usebeamerfont{author}\insertauthor
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,#1]{institute}
		\usebeamerfont{institute}\insertinstitute
	\end{beamercolorbox}
	\begin{beamercolorbox}[sep=8pt,#1]{date}
		\usebeamerfont{date}\insertdate
	\end{beamercolorbox}\vskip0.5em
	\vfill
}

% Add logo in bottom of all slides
\defbeamertemplate*{footline}{onecom theme}{
	\usebeamerfont{footline}
	\begin{beamercolorbox}[wd=\paperwidth,ht=5.5em]{footerborder}%
		\vfill
		\begin{beamercolorbox}[wd=\paperwidth,ht=5em,dp=0ex]{footer}%
			\vspace{1em}

			\hspace{1em}
			% Frame numbers
			\insertframenumber /\inserttotalframenumber
			% Logo
			\hfill\pgfimage[height=3em]{\onecom@imagename}
			\hspace{1em}

			\vspace{1em}
		\end{beamercolorbox}%
	\end{beamercolorbox}%
}

